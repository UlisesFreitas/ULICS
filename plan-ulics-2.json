{
    "projectName": "ULICS Fantasy Console",
    "version": "2.0.0",
    "status": "IN PROGRESS - Post v1.0.0",
    "description": "Development plan for ULICS v1.1, v1.5, and v2.0. Includes bug fixes, IDE tools, and advanced features.",
    "previousPlan": "plan-ulics.json (v1.0.0 - Completed 2025-12-13)",
    "phases": [
        {
            "phase": "1.1",
            "title": "Bug Fixes & Stability",
            "description": "Critical bug fixes from v1.0.0 release. Focus on rendering and audio issues.",
            "priority": "CRITICAL",
            "estimatedTime": "1-2 weeks",
            "tasks": [
                {
                    "id": "1.1.1",
                    "description": "Fix rendering flicker in Pong demo - investigate collision bounce causing visual artifacts.",
                    "status": "pending",
                    "priority": "HIGH",
                    "files": "src/rendering/AestheticLayer.cpp, cartridges/pong/main.lua",
                    "notes": "Ball flickers when colliding with paddles. May be double-rendering or incorrect clear timing."
                },
                {
                    "id": "1.1.2",
                    "description": "Fix Platformer player disappearing bug - player sprite vanishes when moving.",
                    "status": "pending",
                    "priority": "HIGH",
                    "files": "src/rendering/AestheticLayer.cpp",
                    "notes": "Player rendered with rectfill() disappears on movement. Possible coordinate calculation bug or render pipeline issue."
                },
                {
                    "id": "1.1.3",
                    "description": "Fix audio threading issue - audio callback causes 6-8s input lag.",
                    "status": "pending",
                    "priority": "HIGH",
                    "files": "src/audio/AudioManager.cpp, src/audio/SFXSynthesizer.cpp",
                    "notes": "Audio synthesis on separate thread blocks main thread. Implement lock-free ring buffer or reduce buffer size from 1024 to 512 samples."
                },
                {
                    "id": "1.1.4",
                    "description": "Connect Map API to engine - mget/mset/map functions are stubs.",
                    "status": "pending",
                    "priority": "MEDIUM",
                    "files": "src/scripting/ScriptingManager.cpp, src/core/Engine.h",
                    "notes": "Map functions registered but not connected to actual Map instance. Need global map reference in Engine."
                },
                {
                    "id": "1.1.5",
                    "description": "Add proper PNG loading using stb_image - currently using SDL_LoadBMP fallback.",
                    "status": "pending",
                    "priority": "MEDIUM",
                    "files": "src/rendering/SpriteSheet.cpp, external/stb/stb_image.h",
                    "notes": "Download stb_image.h and implement PNG loading properly."
                },
                {
                    "id": "1.1.6",
                    "description": "Improve error messages - make runtime errors more helpful for developers.",
                    "status": "pending",
                    "priority": "LOW",
                    "files": "src/scripting/ScriptingManager.cpp, src/core/Engine.cpp",
                    "notes": "Add line numbers to Lua errors, better file-not-found messages, etc."
                },
                {
                    "id": "1.1.7",
                    "description": "Add unit tests - basic test coverage for core systems.",
                    "status": "pending",
                    "priority": "LOW",
                    "files": "tests/",
                    "notes": "Use Google Test or Catch2. Test AestheticLayer, InputManager, basic APIs."
                }
            ]
        },
        {
            "phase": 1.5,
            "title": "Quality of Life & Tools (Lite)",
            "description": "Essential development tools without full IDE. Lightweight improvements for v1.5.",
            "priority": "MEDIUM",
            "estimatedTime": "2-3 weeks",
            "tasks": [
                {
                    "id": "1.5.1",
                    "description": "Implement Hot Reload - auto-reload cartridge when main.lua changes.",
                    "status": "pending",
                    "priority": "HIGH",
                    "files": "src/core/HotReload.h, src/core/HotReload.cpp",
                    "notes": "Watch file timestamps, call reset() on change. Massive productivity boost for development."
                },
                {
                    "id": "1.5.2",
                    "description": "Add simple Debug Console overlay - show print() output and FPS on screen.",
                    "status": "pending",
                    "priority": "HIGH",
                    "files": "src/ui/DebugConsole.h, src/ui/DebugConsole.cpp",
                    "notes": "Toggle with F1. Show last 10 print() calls, FPS, memory usage. No ImGui needed - render with print()."
                },
                {
                    "id": "1.5.3",
                    "description": "Implement Screenshot capture - F12 to save PNG.",
                    "status": "pending",
                    "priority": "MEDIUM",
                    "files": "src/capture/Screenshot.cpp",
                    "notes": "Use stb_image_write. Save to screenshots/ folder with timestamp."
                },
                {
                    "id": "1.5.4",
                    "description": "Add GIF recording - Ctrl+F12 for 5-second GIF.",
                    "status": "pending",
                    "priority": "LOW",
                    "files": "src/capture/GifRecorder.cpp",
                    "notes": "Use gifenc or jo_gif. Great for sharing gameplay."
                },
                {
                    "id": "1.5.5",
                    "description": "Create cartridge template system - 'ulics new [name]' command.",
                    "status": "pending",
                    "priority": "LOW",
                    "files": "tools/create_cartridge.ps1",
                    "notes": "PowerShell script to scaffold new cartridge with config.json, main.lua template."
                }
            ]
        },
        {
            "phase": 2.0,
            "title": "Integrated Development Environment (Full IDE)",
            "description": "Complete IDE with in-engine editors. Transform ULICS into a self-contained development environment like PICO-8/TIC-80.",
            "priority": "LOW",
            "estimatedTime": "6-8 weeks",
            "libraries": [
                {
                    "name": "Dear ImGui",
                    "purpose": "Development UI/editors overlay system"
                },
                {
                    "name": "TextEditor (ImGui)",
                    "purpose": "Code editor component with syntax highlighting"
                }
            ],
            "tasks": [
                {
                    "id": "2.0.1",
                    "description": "Integrate Dear ImGui for development UI overlay system.",
                    "status": "pending",
                    "priority": "HIGH",
                    "files": "src/ui/ImGuiLayer.h, src/ui/ImGuiLayer.cpp, CMakeLists.txt",
                    "notes": "ImGui overlay on top of game. Toggle with F1. Foundation for all editors."
                },
                {
                    "id": "2.0.2",
                    "description": "Create Sprite Editor - pixel art editor for 8x8 to 128x128 sprites.",
                    "status": "pending",
                    "priority": "HIGH",
                    "files": "src/ui/SpriteEditor.h, src/ui/SpriteEditor.cpp",
                    "notes": "Canvas with zoom, 16-color palette, tools (pencil, fill, line, rect). Save to spritesheet PNG."
                },
                {
                    "id": "2.0.3",
                    "description": "Create Map Editor - visual tile map editor with layer support.",
                    "status": "pending",
                    "priority": "HIGH",
                    "files": "src/ui/MapEditor.h, src/ui/MapEditor.cpp",
                    "notes": "Grid view 128x64, up to 8 layers, tile placement, layer show/hide, fill tool."
                },
                {
                    "id": "2.0.4",
                    "description": "Create Code Editor - Lua editor with syntax highlighting and auto-indent.",
                    "status": "pending",
                    "priority": "HIGH",
                    "files": "src/ui/CodeEditor.h, src/ui/CodeEditor.cpp",
                    "notes": "Use ImGui TextEditor. Line numbers, Lua syntax, error indicators. Save to main.lua."
                },
                {
                    "id": "2.0.5",
                    "description": "Create SFX Editor - waveform designer for sound effects.",
                    "status": "pending",
                    "priority": "MEDIUM",
                    "files": "src/ui/SFXEditor.h, src/ui/SFXEditor.cpp",
                    "notes": "Waveform type selector, ADSR envelope visual editor, frequency sweep, preview playback."
                },
                {
                    "id": "2.0.6",
                    "description": "Create Music Tracker - tracker-style music composition tool.",
                    "status": "pending",
                    "priority": "MEDIUM",
                    "files": "src/ui/MusicTracker.h, src/ui/MusicTracker.cpp",
                    "notes": "Pattern editor, 4 channels, note+SFX input, tempo controls, pattern sequencer."
                },
                {
                    "id": "2.0.7",
                    "description": "Create Palette Editor - customize 16-color palette with presets.",
                    "status": "pending",
                    "priority": "MEDIUM",
                    "files": "src/ui/PaletteEditor.h, src/ui/PaletteEditor.cpp",
                    "notes": "HSL/RGB picker, import presets (PICO-8, TIC-80, DB16), real-time preview."
                },
                {
                    "id": "2.0.8",
                    "description": "Create Asset Browser - visual grid of all cartridge assets.",
                    "status": "pending",
                    "priority": "MEDIUM",
                    "files": "src/ui/AssetBrowser.h, src/ui/AssetBrowser.cpp",
                    "notes": "Thumbnail view, sprites/maps/SFX/music preview, delete/duplicate/rename."
                },
                {
                    "id": "2.0.9",
                    "description": "Create Cartridge Manager - library management and project creation.",
                    "status": "pending",
                    "priority": "LOW",
                    "files": "src/ui/CartridgeManager.h, src/ui/CartridgeManager.cpp",
                    "notes": "List cartridges, create new, delete, duplicate, export to .ulics bundle."
                },
                {
                    "id": "2.0.10",
                    "description": "Implement Performance Profiler - real-time CPU/GPU monitoring.",
                    "status": "pending",
                    "priority": "LOW",
                    "files": "src/ui/Profiler.h, src/ui/Profiler.cpp",
                    "notes": "CPU/GPU time graphs, _update()/_draw() execution time, draw call count."
                },
                {
                    "id": "2.0.11",
                    "description": "Add Save State System - F5/F9 for quick save/load game state.",
                    "status": "pending",
                    "priority": "MEDIUM",
                    "files": "src/core/SaveState.h, src/core/SaveState.cpp",
                    "notes": "Serialize Lua globals to file. Useful for testing specific scenarios."
                },
                {
                    "id": "2.0.12",
                    "description": "Create Keybinding Editor - remap controls UI.",
                    "status": "pending",
                    "priority": "LOW",
                    "files": "src/ui/KeybindingEditor.h, src/ui/KeybindingEditor.cpp",
                    "notes": "Visual button mapper, remap any button to any key/gamepad button, save to user prefs."
                },
                {
                    "id": "2.0.13",
                    "description": "Add In-Game Help Overlay - API quick reference with search.",
                    "status": "pending",
                    "priority": "LOW",
                    "files": "src/ui/HelpOverlay.h, src/ui/HelpOverlay.cpp",
                    "notes": "List all 40 API functions, search by name, quick examples, copy to clipboard."
                },
                {
                    "id": "2.0.14",
                    "description": "Implement Export/Publish System - bundle as standalone .exe or WASM.",
                    "status": "pending",
                    "priority": "LOW",
                    "files": "src/export/Exporter.h, src/export/Exporter.cpp",
                    "notes": "Windows .exe export, optional WASM for web, embed all assets, remove dev tools."
                }
            ]
        },
        {
            "phase": 3.0,
            "title": "Advanced Features",
            "description": "Advanced fantasy console features beyond PICO-8/TIC-80.",
            "priority": "FUTURE",
            "tasks": [
                {
                    "id": "3.0.1",
                    "description": "Add sprite animation helpers - automatic frame cycling.",
                    "status": "pending",
                    "priority": "MEDIUM",
                    "files": "src/rendering/SpriteAnimator.h"
                },
                {
                    "id": "3.0.2",
                    "description": "Implement particle system - simple but powerful particle effects.",
                    "status": "pending",
                    "priority": "MEDIUM",
                    "files": "src/rendering/ParticleSystem.h"
                },
                {
                    "id": "3.0.3",
                    "description": "Add tweening library - smooth interpolation for animations.",
                    "status": "pending",
                    "priority": "LOW",
                    "files": "src/utils/Tween.h"
                },
                {
                    "id": "3.0.4",
                    "description": "Implement coroutines for Lua - easier async game logic.",
                    "status": "pending",
                    "priority": "LOW",
                    "files": "src/scripting/Coroutines.cpp"
                },
                {
                    "id": "3.0.5",
                    "description": "Add basic physics engine - box2d integration for physics games.",
                    "status": "pending",
                    "priority": "LOW",
                    "files": "src/physics/"
                },
                {
                    "id": "3.0.6",
                    "description": "Implement networking - local multiplayer and simple online.",
                    "status": "pending",
                    "priority": "FUTURE",
                    "files": "src/network/"
                }
            ]
        }
    ],
    "roadmap": {
        "v1.1": {
            "release": "2025-12-20",
            "focus": "Bug Fixes",
            "tasks": "1.1.1 - 1.1.7"
        },
        "v1.5": {
            "release": "2026-01",
            "focus": "Developer Tools (Lite)",
            "tasks": "1.5.1 - 1.5.5"
        },
        "v2.0": {
            "release": "2026-03",
            "focus": "Full IDE",
            "tasks": "2.0.1 - 2.0.14"
        },
        "v3.0": {
            "release": "TBD",
            "focus": "Advanced Features",
            "tasks": "3.0.1+"
        }
    },
    "notes": [
        "v1.0.0 completed on 2025-12-13 with 68/88 tasks",
        "Core runtime is 100% functional",
        "Focus on fixing rendering bugs for v1.1",
        "IDE tools are optional - v1.x is usable without them",
        "Follow semantic versioning: MAJOR.MINOR.PATCH"
    ]
}